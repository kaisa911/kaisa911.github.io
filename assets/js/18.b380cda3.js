(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{589:function(e,t,s){"use strict";s.r(t);var a=s(17),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("Vue 的源码都大部分在 src 中，src 的结构如下：")]),e._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[e._v("src\n├── compiler # 编译相关\n├── core # 核心代码\n├── platforms # 不同平台的支持\n├── shared # 共享代码\n├── types # 类型文件\n├── v3 # vue3 移植过来的一些功能\n├── global.d.ts # 全局声明文件\n")])])]),s("p",[e._v("Vue 2.7.13是采用 TypeScript 写的，较 2.6 相比，Vue 把 sfc 目录放到了 packages 里的compiler-sfc里，服务端渲染（server）的相关内容也都放到了 packages 里的 server-render里了")]),e._v(" "),s("h2",{attrs:{id:"compiler"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#compiler"}},[e._v("#")]),e._v(" compiler")]),e._v(" "),s("p",[e._v("compiler 目录包含 Vue 编译相关的代码。它主要的功能包括，把template模板解析成ast，把ast转化为Render函数，还有一些指令和编译规则等")]),e._v(" "),s("h2",{attrs:{id:"core"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#core"}},[e._v("#")]),e._v(" core")]),e._v(" "),s("p",[e._v("core 目录是 Vue 的核心代码，包含")]),e._v(" "),s("ul",[s("li",[e._v("内置组件（components）")]),e._v(" "),s("li",[e._v("全局 API （global-api）")]),e._v(" "),s("li",[e._v("vm 实例（instance）")]),e._v(" "),s("li",[e._v("观察者（observer）")]),e._v(" "),s("li",[e._v("虚拟 DOM（vdom）")]),e._v(" "),s("li",[e._v("还有一些工具函数（utils）")])]),e._v(" "),s("h2",{attrs:{id:"platforms"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#platforms"}},[e._v("#")]),e._v(" platforms")]),e._v(" "),s("p",[e._v("这个部分以前是有 web 和 weex 两个平台的代码，现在只有web端的了")]),e._v(" "),s("h2",{attrs:{id:"shared"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shared"}},[e._v("#")]),e._v(" shared")]),e._v(" "),s("p",[e._v("该目录下定义了一些常量和工具方法")]),e._v(" "),s("h2",{attrs:{id:"types"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#types"}},[e._v("#")]),e._v(" types")]),e._v(" "),s("p",[e._v("types 则是一些类型文件")]),e._v(" "),s("h2",{attrs:{id:"v3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v3"}},[e._v("#")]),e._v(" v3")]),e._v(" "),s("p",[e._v("这部分则是 2.7 新增的，把 Vue 3.0 中的一部分内容，向后移至到了 Vue 2.7 版本中。")]),e._v(" "),s("p",[e._v("移植的内容有：")]),e._v(" "),s("ul",[s("li",[e._v("Composition API")]),e._v(" "),s("li",[e._v("SFC <script setup>")]),e._v(" "),s("li",[e._v("SFC CSS v-bind")])]),e._v(" "),s("p",[e._v("此外，还支持以下 API：")]),e._v(" "),s("ul",[s("li",[e._v("defineComponent()：具有改进的类型推断（与Vue.extend相比）；")]),e._v(" "),s("li",[e._v("h()、useSlot()、useAttrs()、useCssModules()；")]),e._v(" "),s("li",[e._v("set()、del() 和 nextTick() 在 ESM 构建中也作为命名导出提供。")])])])}),[],!1,null,null,null);t.default=r.exports}}]);